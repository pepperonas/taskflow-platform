<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Mount Test</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .error { color: red; background: #fee; padding: 10px; margin: 10px 0; }
        .success { color: green; background: #efe; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Vue Workflow Builder Mount Test</h1>
    <div id="status"></div>
    <div id="workflow-builder-root" style="width: 100%; height: 600px; border: 2px solid #ccc;"></div>

    <script>
        const status = document.getElementById('status');

        function log(message, isError = false) {
            const div = document.createElement('div');
            div.className = isError ? 'error' : 'success';
            div.textContent = message;
            status.appendChild(div);
            console.log(message);
        }

        // Override console.error to catch errors
        const originalError = console.error;
        console.error = function(...args) {
            log('ERROR: ' + args.join(' '), true);
            originalError.apply(console, args);
        };

        window.onerror = function(msg, url, line, col, error) {
            log(`JavaScript Error: ${msg} at ${url}:${line}:${col}`, true);
            return false;
        };

        log('Starting Vue mount test...');
        log('Checking if mountWorkflowBuilder exists...');

        setTimeout(() => {
            try {
                if (typeof mountWorkflowBuilder !== 'undefined') {
                    log('mountWorkflowBuilder function found!');
                    mountWorkflowBuilder('workflow-builder-root');
                    log('Vue app mounted successfully!');
                } else {
                    log('ERROR: mountWorkflowBuilder not found in global scope', true);
                    log('Available globals: ' + Object.keys(window).filter(k => k.includes('mount') || k.includes('Vue') || k.includes('workflow')).join(', '));
                }
            } catch (e) {
                log('ERROR mounting Vue app: ' + e.message, true);
                log('Stack: ' + e.stack, true);
            }
        }, 1000);
    </script>
</body>
</html>
